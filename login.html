<!DOCTYPE html>
<html>

<head>
  <base target="_top">
  <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"> -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <?!= include('css'); ?>
  <?!= include('script'); ?>
</head>

<body>
  <!-- page1 -->
  <div class="page1_class1" id="page1_id1">
    <div class="container" id="container">
      <div class="form-container sign-up">
        <div class="con-log">
          <h1>Create Account</h1>
          <span>or use your email for registration</span><br>
          <div class="slidebar">
            <input type="email" id="usernamee" placeholder="Email" required />
            <input type="password" id="passwordd" placeholder="Password" required />

            <select id="title" name="title" required>
      <option value="" disabled selected >Title</option>
      <option value="เด็กชาย">เด็กชาย</option>
      <option value="เด็กหญิง">เด็กหญิง</option>
      <option value="นาย">นาย</option>
      <option value="นางสาว">นางสาว</option>
      <option value="นาง">นาง</option>
    </select>

            <input type="text" id="firstname" name="name" placeholder="Name" required />
            <input type="text" id="lastname" name="lastname" placeholder="Lastname" required />
            <input type="number" id="age" name="age" placeholder="Age" required />

            <select id="job" name="job" required>
      <option value="" disabled selected>Job</option>
      <option value="นักศึกษา">นักศึกษา</option>
      <option value="พนักงานบริษัท">พนักงานบริษัท</option>
      <option value="เจ้าของธุรกิจ">เจ้าของธุรกิจ</option>
      <option value="ฟรีแลนซ์">ฟรีแลนซ์</option>
      <option value="เกษตรกร">เกษตรกร</option>
      <option value="อื่นๆ">อื่นๆ</option>
    </select>

            <select id="income" name="income" required>
      <option value="" disabled selected>Income</option>
      <option value="ต่ำกว่า 10,000">ต่ำกว่า 10,000</option>
      <option value="10,000 - 30,000">10,000 - 30,000</option>
      <option value="30,000 - 50,000">30,000 - 50,000</option>
      <option value="มากกว่า 50,000">มากกว่า 50,000</option>
    </select>

            <input type="number" id="userId" name="userId" placeholder="ID" required />
            <input type="number" id="phone" placeholder="Phone" required />
          </div>
          <button onclick="AddRow()">Sign Up</button><br>
          <span id="su-result"></span>
        </div>
      </div>

      <div class="form-container sign-in">
        <div class="con-log">
          <h1>Sign In</h1>
          <span>or use your email password</span><br>
          <input type="email" id="username" placeholder="Username" required/>
          <input type="password" id="password" placeholder="Password" required/>
          <a href="#">Forget Your Password?</a>
          <span id="errorMessage" style="color: red" ></span>
          <button onclick="LoginUser()">Sign In</button>
        </div>
      </div>

      <div class="toggle-container">
        <div class="toggle">
          <div class="toggle-panel toggle-left">
            <h1>Digimon Wallet</h1>
            <p>Sign in to get the rich</p>
            <button class="hidden" id="login">Sign In</button>
          </div>
          <div class="toggle-panel toggle-right">
            <h1>Digimon Wallet</h1>
            <p>If you don't have any account</p>
            <button class="hidden" id="register">Sign Up</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- page2 -->
  <div class="page2_class1" id="page2_id1">
    <center>
      <h2>Your account has been successfully created. Login to your account</h2>
      <input type="submit" value="Login" class="smt-btn"><br>
    </center>
  </div>

  <!-- page3 -->
  <div class="page3_class1" id="page3_id1">
    <center>
      <br>
      <h2>Hi <b id="displayuser"></b>!</h2>
      <h2>You have received: <span id="userBalance"></span></h2>
      <br>
    </center>
  </div>

  <!-- page4 -->
  <div class="page4_class1" id="page4_id1">
    <div class="p4-con">
      <div class="side-bar">
        <div class="user"></div>
        <H1>Admin</H1>
        <div class="con-menu">
          <a class="menu" onclick="showPage('search')">Search</a>
          <a class="menu" onclick="showPage('generate')">Genarate</a>
          <a class="menu" onclick="showPage('piority')">Phase</a>
          <a class="menu" onclick="showPage('give')">Fund dashboard</a>
          <a class="menu" onclick="showPage('info')">Report</a>
        </div>
      </div>
      <div class="content" id="search">
        <h3>Search User by ID</h3>
        <div class="con-search">
          <label for="searchUserId">UserID:</label>
          <input type="text" id="searchUserId" placeholder="Enter User ID" />
        </div>
        <div>
          <button class="s-btn" onclick="searchUserById()">Search</button>
        </div>

        <!-- Form to edit user data -->
        <h3>Edit User Data</h3>
        <div></div>
        <div></div>
        <div>
          <label for="editUsername">Username:</label>
          <input type="text" id="editUsername" placeholder="Username" />
        </div>
        <div>
          <label for="editPassword">Password</label>
          <input type="text" id="editPassword" placeholder="Password" />
        </div>
        <div>
          <label for="editTitle">Title</label><br>
          <select id="editTitle" name="editTitle">
                  <option value="" disabled selected>Title</option>
                  <option value="เด็กชาย">เด็กชาย</option>
                  <option value="เด็กหญิง">เด็กหญิง</option>
                  <option value="นาย">นาย</option>
                  <option value="นางสาว">นางสาว</option>
                  <option value="นาง">นาง</option>
                </select>
        </div>

        <div>
          <label for="editFirstname">Firstname</label>
          <input type="text" id="editFirstname" placeholder="First Name" />
        </div>

        <div>
          <label for="editLastname">Lastname</label>
          <input type="text" id="editLastname" placeholder="Last Name" />
        </div>

        <div>
          <label for="editAge">Age</label>
          <input type="number" id="editAge" name="editAge" min="15" max="100">
        </div>

        <div>
          <label for="editJob">Job</label><br>
          <select id="editJob" name="editJob">
                  <option value="" disabled selected>Job</option>
                  <option value="นักศึกษา">นักศึกษา</option>
                  <option value="พนักงานบริษัท">พนักงานบริษัท</option>
                  <option value="เจ้าของธุรกิจ">เจ้าของธุรกิจ</option>
                  <option value="ฟรีแลนซ์">ฟรีแลนซ์</option>
                  <option value="เกษตรกร">เกษตรกร</option>
                  <option value="อื่นๆ">อื่นๆ</option>
                </select>
        </div>

        <div>
          <label for="editIncome">Income</label><br>
          <select id="editIncome" name="editIncome">
                  <option value="" disabled selected>Income</option>
                  <option value="ต่ำกว่า 20,000">ต่ำกว่า 20,000</option>
                  <option value="20,000 - 50,000">20,000 - 50,000</option>
                  <option value="50,000 - 70,000">50,000 - 70,000</option>
                  <option value="มากกว่า 70,000">มากกว่า 70,000</option>
                </select>
        </div>

        <div>
          <label for="editUserId">ID</label><br>
          <input type="number" id="editUserId" name="editUserId" placeholder="ID" disabled>
        </div>

        <div>
          <label for="editPhone">Phone Number</label><br>
          <input type="number" id="editPhone" placeholder="Phone Number" />
        </div>

        <div>
          <label for="editRole">Role</label><br>
          <select id="editRole" name="editRole">
                  <option value="" disabled selected>Role</option>
                  <option value="user">User</option>
                  <option value="admin">Admin</option>
                </select>
        </div>
        <div></div>
        <div>
          <button class="delete-btn" onclick="deleteUser()">Delete</button>
        </div>
        <div></div>
        <button class="btn" onclick="saveUserChanges()">Update</button>
      </div>
      <div class="content" id="generate">
        <div class="gen-head">
          <h2>Genarate Users for test</h2>
        </div>
        <div class="gen-con">
          <p>Enter number of tester:</p><br>
          <input id="gen-input" type="number" min="1" max="1000" >
          <div><br></div>
          <button class="btn" type="submit" onclick="generateTestUsers()">Gen</button>
          <div><br></div>
          <p id="genResult"></p>
        </div>
      </div>
      <div class="content" id="piority">
        <div class="pio-head">
          <h2>Phase Setup</h2>
        </div>
        <div class="pio-con">
          <label for="group">Group</label><br>
          <select id="group" name="group">
                  <option value="" disabled selected>กลุ่ม</option>
                  <option value="student">นักศึกษา</option>
                  <option value="farmer">เกษตรกร</option>
                  <option value="low-income">ผู้มีรายได้น้อย</option>
                  <option value="older">ผู้สูงอายุ</option>
                  <option value="normal">บุคคลทั่วไป</option>
                </select><br>
          <div><br></div>
          <label for="phase">Phase</label><br>
          <select id="g-phase" name="phase">
                    <option value="" disabled selected>เฟส</option>
                    <option value="phase1">เฟส1</option>
                    <option value="phase2">เฟส2</option>
                    <option value="phase3">เฟส3</option>
                    <option value="No pass">ไม่ผ่านเกณฑ์</option>
                  </select>
          <div><br></div>
          <label for="%">% Of Group</label><br>
          <select id="persen" name="%">
                    <option value="" disabled selected>%</option>
                    <option value="0">0%</option>
                    <option value="10">10%</option>
                    <option value="20">20%</option>
                    <option value="30">30%</option>
                    <option value="40">40%</option>
                    <option value="50">50%</option>
                    <option value="60">60%</option>
                    <option value="70">70%</option>
                    <option value="80">80%</option>
                    <option value="90">90%</option>
                    <option value="100">100%</option>
                  </select>
          <div><br></div>
          <button class="pio-btn" type="submit" onclick="setPhase()">Submit</button>
          <div><br></div>
          <p id="result-phase"></p>
        </div>
      </div>
      <div class="content" id="give">
        <div></div>
        <div class="give-head">
          <h2>Dashboard</h2><br><br>
        </div>
        <div class="give-in">
          <div>
            <label for="a">แจกไปแล้ว</label><br>
            <span id="payed"></span>บาท
          </div>
          <div>
            <label for="b">คงเหลือ</label><br>
            <span id="balance"></span>บาท
          </div>
        </div>
        <div class="list-tb">
          <label for="c">รายชื่อคนที่ได้รับแล้ว</label><br>
          <span id="count-list"></span>คน<br>
          <button onclick="refreshData()">Refresh</button>
        </div>
        <div class="slide-tb">
          <div class="table">
            <p>Loading data...</p>
          </div>
        </div>
      </div>
      <div class="content" id="info">
        <div></div>
        <div class="info-head">
          <h2>Report</h2>
        </div>
        <div></div>
        <div>
          <h3>Phase</h3>
        </div>
        <div>
          <h3>Group</h3>
        </div>
        <div>
          <h3>Budget For Group</h3>
        </div>
        <div>
          <p id="phase1">Phase1</p>
        </div>
        <div>
          <p id="group1"></p>
        </div>
        <div>
          <p id="gbudget1"></p>
        </div>
        <div>
          <p id="phase2">Phase2</p>
        </div>
        <div>
          <p id="group2"></p>
        </div>
        <div>
          <p id="gbudget2"></p>
        </div>
        <div>
          <p id="phase3">Phase3</p>
        </div>
        <div>
          <p id="group3"></p>
        </div>
        <div>
          <p id="gbudget3"></p>
        </div>
      </div>
    </div>
  </div>


  <script>
    const container = document.getElementById('container');
    const registerBtn = document.getElementById('register');
    const loginBtn = document.getElementById('login');

    registerBtn.addEventListener('click', () => {
      container.classList.add("active");
    });

    loginBtn.addEventListener('click', () => {
      container.classList.remove("active");
    });

function loadCount() {
  google.script.run.withSuccessHandler(function(count) {
    document.getElementById("count-list").innerHTML = count;
  }).getVerifiedCount();
}

  </script>
</body>

</html>
